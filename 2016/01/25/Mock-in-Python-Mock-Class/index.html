
<!DOCTYPE html>
<html lang="null">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Roubao1994">
    <title>Mock in Python: Mock Class - Roubao1994</title>
    <meta name="author" content="Roubao">
    
    
    
    <meta name="description" content="The Mock ClassMock is a flexible mock object intended to replace the use of stubs and test doubles throughout your code. Mocks are callable and create attributes as new mocks when you access them [1].">
<meta property="og:type" content="blog">
<meta property="og:title" content="Mock in Python: Mock Class">
<meta property="og:url" content="http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/index.html">
<meta property="og:site_name" content="Roubao1994">
<meta property="og:description" content="The Mock ClassMock is a flexible mock object intended to replace the use of stubs and test doubles throughout your code. Mocks are callable and create attributes as new mocks when you access them [1].">
<meta property="og:image" content="http://twimgs.com/ddj/images/article/2014/0514/Python4.gif">
<meta property="og:updated_time" content="2016-01-29T14:09:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mock in Python: Mock Class">
<meta name="twitter:description" content="The Mock ClassMock is a flexible mock object intended to replace the use of stubs and test doubles throughout your code. Mocks are callable and create attributes as new mocks when you access them [1].">
    
    
        
    
    
        <meta property="og:image" content="http://img0.imgtn.bdimg.com/it/u=1145521169,539945887&amp;fm=21&amp;gp=0.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-ejlztp1tasruqfvoz6xmgqng0anzae8ox7cqjj5yibieqgcmhe9fwxfae6zj.min.css" type="text/css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Roubao1994</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="/#about">
        
        
            <img class="header-picture" src="http://img0.imgtn.bdimg.com/it/u=1145521169,539945887&amp;fm=21&amp;gp=0.jpg"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="http://img0.imgtn.bdimg.com/it/u=1145521169,539945887&amp;fm=21&amp;gp=0.jpg"/>
            </a>
            <span class="sidebar-profile-name">Roubao</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首頁</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分類</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">標籤</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">所有文章</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜尋</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">關於</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">Atom</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Mock in Python: Mock Class
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Mon Jan 25 2016 18:19:31 GMT+0800">
	
		    Jan 25, 2016
    	
    </time>
    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h2 id="The_Mock_Class"><a href="#The_Mock_Class" class="headerlink" title="The Mock Class"></a>The Mock Class</h2><p>Mock is a flexible mock object intended to replace the use of stubs and test doubles throughout your code. Mocks are callable and create attributes as new mocks when you access them [1]. Accessing the same attribute will always return the same mock. Mocks record how you use them, allowing you to make assertions about what your code has done to them.</p>
<p>Mock 是一个灵活的mock对象，它可以在你的代码中替代stub和test doubles的使用。 Mocks可以被调用，并且创造作为新的mock的属性。 获取相同属性总是返回相同的mock。 Mocks记录了你如何使用它们，允许你确认你的code对他们做了什么。</p>
<p>MagicMock is a subclass of Mock with all the magic methods pre-created and ready to use. There are also non-callable variants, useful when you are mocking out objects that aren’t callable: NonCallableMock and NonCallableMagicMock</p>
<p>The patch() decorators makes it easy to temporarily replace classes in a particular module with a Mock object. By default patch() will create a MagicMock for you. You can specify an alternative class of Mock using the new_callable argument to patch().</p>
<p>MagicMock 是Mock的子类，但是它有预创建的所有magic methods. 同时还有non-callable的变量: NonCallableMock和NonCallableMock， 当你mock不被调用的对象时它们是有用的<br>patch() decorators使用Mock对象替代某个特定模块中的类变得容易。默认地， patch()会为你创建一个MagicMock。 你可以使用new_callable参数来实例化某个Mock类来patch.</p>
<p>以下摘自diabloneo <a href="http://segmentfault.com/a/1190000002965620" target="_blank" rel="external">《python mock 的入门》</a></p>
<p>Mock对象的一般用法是这样的：</p>
<ol>
<li>找到你要替换的对象，这个对象可以是一个类，一个函数或者是一个实例</li>
<li>实例化Mock类，得到一个mock对象，然后设置这个mock对象的行为，比如被调用时返回什么值，被访问成员时返回什么值</li>
<li>使用mock对象替换掉1中的对象</li>
<li>写测试代码</li>
</ol>
<h2 id="u57FA_u672C_u7528_u6CD5"><a href="#u57FA_u672C_u7528_u6CD5" class="headerlink" title="基本用法"></a>基本用法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span><span class="params">(url)</span>:</span></span><br><span class="line">  r = requests.get(url)</span><br><span class="line">  <span class="keyword">return</span> r.status_code</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">visit_ustack</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="keyword">return</span> send_request(<span class="string">'http://www.ustack.com'</span>)</span><br></pre></td></tr></table></figure>
<p>外部模块调用visit_ustack来访问ustack</p>
<p>使用mock对象进行单元测试<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> mock</span><br><span class="line"><span class="keyword">import</span> client</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestClient</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test_success_request</span><span class="params">(self)</span>:</span></span><br><span class="line">    success_send = mock.Mock(return_value = <span class="string">'200'</span>)</span><br><span class="line">    client.send_request = success_send</span><br><span class="line">    self.assertEquals(client.visit_ustack(), <span class="string">'200'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test_fail_request</span><span class="params">(self)</span>:</span></span><br><span class="line">    fail_send = mock.Mock(return_value = <span class="string">'404'</span>)</span><br><span class="line">    client.send_request = fail_send</span><br><span class="line">    self.assertEquals(client.visit_ustack(), <span class="string">'404'</span>)</span><br></pre></td></tr></table></figure></p>
<ol>
<li>找到要替换的对象： 我们要测试的是visit_ustack函数，因此需要替换掉send_request函数</li>
<li>实例化Mock类：函数的第一行</li>
<li>使用mock的对象替换掉一中的对象</li>
<li>assert</li>
</ol>
<h2 id="Mock_u7684_u53C2_u6570"><a href="#Mock_u7684_u53C2_u6570" class="headerlink" title="Mock的参数"></a>Mock的参数</h2><p>class unittest.mock.Mock(spec=None, side_effect=None, return_value=DEFAULT, wraps=None, name=None, spec_set=None, unsafe=False, **kwargs)</p>
<ol>
<li>name  标识一个mock</li>
<li><p>side_effect<br>它可以是一个mock对象被调用时调用的函数，或者是可迭代的（iterable)或者是一个异常（class or instance)<br>If you pass in a function it will be called with same arguments as the mock and unless the function returns the DEFAULT singleton the call to the mock will then return whatever the function returns. If the function returns DEFAULT then the mock will return its normal value (from the return_value).<br>如果你传入的是一个函数，它会以和mock对象相同的参数调用，并且除非这个函数返回DEFAULT，调用mock会返回函数的返回值。如果函数返回DEFAULT，则mock对象会返回它的normal value（从return_value中获取）<br>If you pass in an iterable, it is used to retrieve an iterator which must yield a value on every call. This value can either be an exception instance to be raised, or a value to be returned from the call to the mock (DEFAULT handling is identical to the function case).<br>如果传入一个iterable,那么它会用来获取一个迭代器，这个迭代器每当被调用都要返回一个值。这个值可以是一个被抛出的异常实例，也可以作为mock对象被调用时的返回值（对于DEFAULT的处理与函数一致）</p>
<h3 id="u793A_u4F8B"><a href="#u793A_u4F8B" class="headerlink" title="示例"></a>示例</h3><ul>
<li><p>抛出一个异常（用来测试代码对异常的处理）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mock = Mock(side_effect=Exception(<span class="string">'Boom'</span>))</span><br><span class="line">mock()</span><br></pre></td></tr></table></figure>
</li>
<li><p>返回一组值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mock = Mock()</span><br><span class="line">mock.side_effect = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">mock(), mock(), mock()</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用callable</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mock = Mock(return_value=<span class="number">3</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">side_effect</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> DEFAULT</span><br><span class="line">mock.side_effect = side_effect</span><br><span class="line">mock()</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span><span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置None进行clear</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="prompt">&gt;&gt;&gt; </span>m = Mock(side_effect=KeyError, return_value=<span class="number">3</span>)</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>m()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"> ...</span><br><span class="line">KeyError</span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>m.side_effect = <span class="keyword">None</span></span><br><span class="line"><span class="prompt">&gt;&gt;&gt; </span>m()</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>return_value</p>
</li>
<li>spec<br>它可以是一个字符串列表，也可以是一个已经存在的对象（一个class或者一个instance），这个对象作为mock对象的specification. 如果你传入的是一个对象，那么会调用该对象的dir方法来得到一个字符串列表（排除不支持的Magic属性和方法）。 获取不在这个list中的属性会抛出AttributeError.<br>如果spec是一个对象（而不是一个字符串列表），那么<strong>class</strong>返回spec对象的class. 这使得mock对象允许进行isinstance()测试。</li>
</ol>
<h2 id="Mock_u65AD_u8A00_u65B9_u6CD5"><a href="#Mock_u65AD_u8A00_u65B9_u6CD5" class="headerlink" title="Mock断言方法"></a>Mock断言方法</h2><ol>
<li><p>assert_called_with(*args, **kwargs)<br>这个方法用来测试mock方法是否获得了正确的参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> Mock</span><br><span class="line"></span><br><span class="line"><span class="comment"># the mock object</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">  _foovalue = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">callFoo</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">doFoo</span><span class="params">(self, arg)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">mockFoo = Mock(spec = Foo)</span><br><span class="line">mockFoo.doFoo(<span class="string">'a'</span>)</span><br><span class="line">mockFoo.doFoo.assert_called_with(<span class="string">'a'</span>)</span><br><span class="line"><span class="comment">#assertion passes</span></span><br><span class="line">mockFoo.doFoo(<span class="string">'b'</span>)</span><br><span class="line">mockFoo.doFoo.assert_called_with(<span class="string">'a'</span>)</span><br><span class="line"><span class="comment">#assertion fails</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>assert_called_once_with(*args, *kwargs)<br>断言测试对象是否以正确参数调用方法，并且mock方法只被调用一次</p>
</li>
<li><p>assert_any_call(*args, *kwargs)<br>断言测试对象是否以正确参数调用方法，不管mock方法和断言之间有多少其它的调用。与assert_called_once_with和assert_called_with不同， 这两个断言只考虑最近的一次断言。</p>
</li>
<li><p>assert_has_calls(calls, any_order=False)<br>断言测试对象是否调用了一组特定的calls， mock_calls 列表用来判定。<br>如果any_order 设置为false,那么调用的顺序必须相同，在这一组调用的前后可以有其他的calls。<br>如果any_order 设置为true, 那么调用的顺序无所谓，但是不能有其他的calls.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> Mock,call</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">  _foovalue = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">callFoo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">doFoo</span><span class="params">(self, arg)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">mockFoo = Mock(spec = Foo)</span><br><span class="line"></span><br><span class="line">mockFoo.callFoo()</span><br><span class="line">mockFoo.doFoo(<span class="string">'a'</span>)</span><br><span class="line">mockFoo.doFoo(<span class="string">'b'</span>)</span><br><span class="line"></span><br><span class="line">fooCalls = [call.callFoo(), call.doFoo(<span class="string">'a'</span>), call.doFoo(<span class="string">'b'</span>)]</span><br><span class="line">mockFoo.assert_has_calls(fooCalls)</span><br><span class="line"><span class="comment">#assert passes</span></span><br><span class="line"></span><br><span class="line">fooCalls = [call.callFoo(), call.doFoo(<span class="string">'b'</span>), call.doFoo(<span class="string">'a'</span>)]</span><br><span class="line">mockFoo.assert_has_calls(fooCalls)</span><br><span class="line"><span class="comment">#Assertion Error</span></span><br><span class="line"></span><br><span class="line">mockFoo.assert_has_calls(fooCalls, any_order=<span class="keyword">True</span>)</span><br><span class="line"><span class="comment">#assert passes</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>assert_not_called(*args, **kwargs)<br>断言mock方法是否从未被调用</p>
</li>
</ol>
<h2 id="u7BA1_u7406Mock"><a href="#u7BA1_u7406Mock" class="headerlink" title="管理Mock"></a>管理Mock</h2><p>Mock类还有一些方法用来管理控制mock对象</p>
<ul>
<li><p>attach_mock</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> Mock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">    _fooValue = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call_foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Foo: callFoo__"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_foo</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Foo: doFoo__ input="</span>, args</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span><span class="params">(object)</span>:</span></span><br><span class="line">    _barValue = <span class="number">456</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call_bar</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_bar</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mockFoo = Mock(spec=Foo)</span><br><span class="line"><span class="keyword">print</span> mockFoo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mockBar = Mock(spec=Bar)</span><br><span class="line"><span class="keyword">print</span> mockBar</span><br><span class="line"></span><br><span class="line">mockFoo.attach_mock(mockBar, <span class="string">'fooBar'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> mockFoo</span><br><span class="line"><span class="keyword">print</span> mockFoo._fooValue</span><br><span class="line"><span class="keyword">print</span> mockFoo.call_foo()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> mockFoo.fooBar</span><br><span class="line"><span class="keyword">print</span> mockFoo.fooBar._barValue</span><br><span class="line"><span class="keyword">print</span> mockFoo.fooBar.do_bar(<span class="number">111</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>configure_mock<br>这个方法允许你整个地改变你的mock对象。它唯一的参数是一组键值对，每个key对应你想改变的attribute，如果这个mock对象没有你所指定的属性，那么该方法会给这个mock对象增加该属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> Mock</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span><span class="params">(object)</span>:</span></span><br><span class="line">    _fooValue = <span class="number">123</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">call_foo</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Foo: call_foo..."</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_foo</span><span class="params">(self, args)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Foo: do_foo input="</span>, args</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mockFoo = Mock(spec=Foo, return_value=<span class="number">555</span>)</span><br><span class="line"><span class="keyword">print</span> mockFoo()</span><br><span class="line"><span class="comment"># return 555</span></span><br><span class="line"></span><br><span class="line">mockFoo.configure_mock(return_value=<span class="number">111</span>)</span><br><span class="line"><span class="keyword">print</span> mockFoo()</span><br><span class="line"><span class="comment">#return 111</span></span><br><span class="line"></span><br><span class="line">fooSpec = &#123;<span class="string">'call_foo.return_value'</span>: <span class="string">"narf"</span>, <span class="string">'do_foo.return_value'</span>: <span class="string">"zoo"</span>, <span class="string">'do_foo.side_effect'</span>: StandardError&#125;</span><br><span class="line">mockFoo.configure_mock(**fooSpec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> mockFoo.call_foo()</span><br><span class="line"><span class="comment">#return narf</span></span><br><span class="line"><span class="keyword">print</span> mockFoo.do_foo(<span class="number">345</span>)</span><br><span class="line"><span class="comment">#raise StandardError</span></span><br><span class="line"></span><br><span class="line">fooSpec = &#123;<span class="string">'do_foo.side_effect'</span>: <span class="keyword">None</span>&#125;</span><br><span class="line">mockFoo.configure_mock(**fooSpec)</span><br><span class="line"><span class="keyword">print</span> mockFoo.do_foo(<span class="number">345</span>)</span><br><span class="line"><span class="comment">#return zoo</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>mock_add_spec()<br>给mock对象增加新的属性。 和参数中的spec作用相同，只是它作用在已经存在的对象上，并且会”擦除”对象原先通过构造函数设置的属性。<br>两个参数: spec和spec_set<br>添加的属性默认只读， 如果设置spec_set 为True, 那么这些属性可写。</p>
</li>
<li><p>reset_mock()<br>The last method, resetMock(), puts the mock object back to its pre-test state. It clears the mock’s call statistics and asserts. It does not clear the return_value and side_effect properties for both mock and its method attributes. Do this to reuse the mock and avoid the overhead of creating another mock.<br>将mock对象重置为pre-test状态。<br>清除mock对象的所有调用数据和断言数据。<br>它不会清除return_value和side_effect属性。<br>这个方法可以重用mock对象，避免了再次创建mock对象的麻烦。</p>
</li>
</ul>
<h2 id="u7528Mock_u6765_u6D4B_u8BD5"><a href="#u7528Mock_u6765_u6D4B_u8BD5" class="headerlink" title="用Mock来测试"></a>用Mock来测试</h2><p><img src="http://twimgs.com/ddj/images/article/2014/0514/Python4.gif" alt="Figure"><br>有三个类。<br>Order类是测试的subject，它是一个简单的购买单个物品的order, 从数据源中获得。<br>WareHouse类是测试的resource,它包含一系列的键值对， key是item的名称， value是item的库存。<br>OrderTest类就是测试用例本身</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Order Class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Order</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># instance properties</span></span><br><span class="line">    _order_item = <span class="string">'None'</span></span><br><span class="line">    _order_amount = <span class="number">0</span></span><br><span class="line">    _order_filled = -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg_item, arg_amount)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(arg_item, str):</span><br><span class="line">            <span class="keyword">if</span> len(arg_item) &gt; <span class="number">0</span>:</span><br><span class="line">                self._order_item = arg_item</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> arg_amount &gt; <span class="number">0</span>:</span><br><span class="line">            self._order_amount = arg_amount</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        loc_order = &#123;<span class="string">'item'</span>: self._order_item, <span class="string">'amount'</span>: self._order_amount&#125;</span><br><span class="line">        <span class="keyword">return</span> repr(loc_order)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fill</span><span class="params">(self, arg_src)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'Order: fill__'</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">if</span> arg_src <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">                <span class="keyword">if</span> arg_src.has_inventory(self._order_item):</span><br><span class="line">                    loc_count = arg_src.get_inventory(self._order_item, self._order_amount)</span><br><span class="line">                    self._order_filled = loc_count</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">print</span> <span class="string">'inventory item not available'</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">print</span> <span class="string">'Warehouse not available'</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> TypeError:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'Invalid warehouse'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_filled</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._order_amount == self._order_filled</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Warehouse Class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WareHouse</span><span class="params">(object)</span>:</span></span><br><span class="line">    _house_name = <span class="keyword">None</span></span><br><span class="line">    _house_list = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">warehouse_name</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._house_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inventory</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._house_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup</span><span class="params">(self, arg_name, arg_list)</span>:</span></span><br><span class="line">        self._house_name = arg_name</span><br><span class="line">        self._house_list = arg_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">has_inventory</span><span class="params">(self, arg_item)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_inventory</span><span class="params">(self, arg_item, arg_amount)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_inventory</span><span class="params">(self, arg_item, arg_amount)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Test class</span></span><br><span class="line"><span class="keyword">from</span> mock <span class="keyword">import</span> Mock, call</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> application.warehouse <span class="keyword">import</span> WareHouse</span><br><span class="line"><span class="keyword">from</span> application.order <span class="keyword">import</span> Order</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrderTest</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line">    foo_source = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setUp</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"orderTest setup: begin__"</span></span><br><span class="line"></span><br><span class="line">        test_name = self.id().split(<span class="string">"."</span>)[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">print</span> test_name</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> test_name == <span class="string">"test_nil_inventory"</span>:</span><br><span class="line">            self.foo_source = Mock(spec=WareHouse, return_value=<span class="keyword">None</span>)</span><br><span class="line">        <span class="keyword">elif</span> test_name == <span class="string">'test_order_check'</span>:</span><br><span class="line">            self.foo_source = Mock(spec=WareHouse)</span><br><span class="line">            self.foo_source.has_inventory.return_value = <span class="keyword">True</span></span><br><span class="line">            self.foo_source.get_inventory.return_value = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">tearDown</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">"OrderTest teardown: begin__"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># test how the order object handle the nil inventory</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_nil_inventory</span><span class="params">(self)</span>:</span></span><br><span class="line">        test_order = Order(<span class="string">"mushrooms"</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        test_source = self.foo_source</span><br><span class="line">        test_order.fill(test_source)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">print</span> test_source.mock_calls</span><br><span class="line"></span><br><span class="line">        test_calls = [call.has_inventory(<span class="string">"mushrooms"</span>), call.get_inventory(<span class="string">"mushrooms"</span>, <span class="number">10</span>)]</span><br><span class="line">        test_source.assert_has_calls(test_calls)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_order_check</span><span class="params">(self)</span>:</span></span><br><span class="line">        test_order = Order(<span class="string">"mushrooms"</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        test_order.fill(self.foo_source)</span><br><span class="line"></span><br><span class="line">        self.assertFalse(test_order.is_filled())</span><br><span class="line">        self.assertEquals(test_order._order_filled, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        self.foo_source.has_inventory.assert_called_once_with(<span class="string">"mushrooms"</span>)</span><br><span class="line"></span><br><span class="line">        test_order = Order(<span class="string">"cabbage"</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">        test_order.fill(self.foo_source)</span><br><span class="line"></span><br><span class="line">        self.assertEquals(test_order.is_filled())</span><br><span class="line">        self.assertEquals(test_order._order_filled, -<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/29/Mock-in-Python-patch/"  data-tooltip="Mock in Python: patch">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/25/mock-in-python-quick-guide/" data-tooltip="mock in python: quick guide">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Roubao. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/29/Mock-in-Python-patch/"  data-tooltip="Mock in Python: patch">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/25/mock-in-python-quick-guide/" data-tooltip="mock in python: quick guide">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-google-plus"></i><span class="">分享到 Google+</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://roubao1994.github.io/2016/01/25/Mock-in-Python-Mock-Class/">
                <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="http://img0.imgtn.bdimg.com/it/u=1145521169,539945887&amp;fm=21&amp;gp=0.jpg"/>
        
            <h4 id="about-card-name">Roubao</h4>
        
            <h5 id="about-card-bio"><p>一只一直在减肥的肉包包</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </h5>
        
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-gfmrkxcl0qohe3cfdgxhzvc0yrceqta8i4iix0txvn8q4o2adlqd5n0jmkvt.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    



</html>
